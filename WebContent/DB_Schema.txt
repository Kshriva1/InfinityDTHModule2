create table SetTopBox (
	setTopBoxId number primary key,
	STBType varchar(50) not null,
	STBlength number not null,
	STBbreadth number not null,
	STBwidth number not null,
	price number not null,
	installationCharges number not null,
	updationCharges number not null,
	percentageDiscount number not null,
	billingType varchar(30) not null,
	refundAmount number not null
);

create table SetTopBoxInventory(
	setTopBoxId number primary key references SetTopBox(setTopBoxId),
	STBtype varchar(20) not null,
	serialNumber number unique not null,
	macId varchar(20) unique not null,
	remoteAssetId number unique not null,
	dishAssetId number unique not null,
	setTopBoxStatus varchar(20) default 'Unassigned'
);

CREATE TABLE Package (
	pkgId number unique,
	pkgName varchar(30) not null,
	pkgChargeType varchar(20) not null,
	pkgTransmissionType varchar(20) not null,
	pkgCost number not null,
	pkgFromDate date not null,
	pkgToDate date not null,
	pkgByDefault varchar(10) not null
);

create table PackageCategory (
	pkgCategoryId number Primary Key,
	pkgCategoryName varchar(30)
);

CREATE TABLE Package_PackageCategory (
	PkgId NUMBER REFERENCES Package (pkgId),
	pkgCategoryId NUMBER REFERENCES FEATURE (pkgCategoryId)
);

CREATE TABLE Channel (
	channelId number unique,
	channelName varchar(30) not null,
	channelBand varchar(20) not null,
	videoFrequency number not null,
	audioFrequency number not  null,
	channelChargeType varchar(20) not null,
	channelTransmissionType varchar (20) not null,
	channelCharge number not null,
	channelEnableOrDisable varchar(50) not null,
	packageId references Package(pkgId)
);

CREATE TABLE FEATURE (
	featureId NUMBER PRIMARY KEY,
	featureName VARCHAR(50)
);

CREATE TABLE SETTOPBOX_FEATURE (
	setTopBoxId NUMBER REFERENCES SetTopBox (setTopBoxId),
	featureId NUMBER REFERENCES FEATURE (featureId)
);


/* Sequence for SetTopBox table. Access using stb_seq.nextval */
Create sequence stb_seq
start with 1
increment by 1
nocycle;

/* Sequence for SetTopBoxInventory */
Create sequence stbinventory_seq
start with 1
increment by 1
nocycle;

/* Sequence for PackageCategory */
Create sequence packagecategory_seq
start with 1
increment by 1
nocycle;

/* Sequence for Package */
Create sequence package_seq
start with 1
increment by 1
nocycle;

/* Sequence for Channel */
Create sequence channel_seq
start with 1
increment by 1
nocycle;

/* Sequence for Feature */
Create sequence frequency_seq
start with 1
increment by 1
nocycle;

/* Insertion data into features */
insert into FEATURE values (frequency_seq.nextval, 'Multi Lingual');
insert into FEATURE values (frequency_seq.nextval, 'Genre Wise Channel Guide');
insert into FEATURE values (frequency_seq.nextval, 'Live Recording');
insert into FEATURE values (frequency_seq.nextval, 'Scheduled Recording');
insert into FEATURE values (frequency_seq.nextval, 'Pause/Play');
insert into FEATURE values (frequency_seq.nextval, 'Rewind/Forward');
insert into FEATURE values (frequency_seq.nextval, 'Slow Motion');
insert into FEATURE values (frequency_seq.nextval, 'Child Lock');
insert into FEATURE values (frequency_seq.nextval, 'Preview Screen');
insert into FEATURE values (frequency_seq.nextval, 'Program Reminder');